# 데이터 품질 검증 보고서: 불량 케이스 원본 데이터 분석

**작성일**: 2025-11-11
**분석 대상**: bad.pdf에 기록된 평가자 지적 불량 케이스
**분석 방법**: 원본 JSON 데이터와 COT 확장 데이터 비교 분석

---

## 1. 요약 (Executive Summary)

### 핵심 발견사항

**평가자들이 지적한 불량 사항의 대부분이 원본 라벨링 데이터(`/home/devfit2/mbc_json/`)에 이미 존재하며, COT(Chain-of-Thought) 확장 과정에서 발생한 문제가 아님을 확인했습니다.**

- **분석 샘플 수**: 4개 대표 케이스 (bad.pdf에서 추출)
- **검증 결과**: 4개 케이스 모두 원본 JSON에 문제가 이미 존재
- **COT 확장의 역할**: 원본 데이터를 그대로 유지하며 형식만 통합

### 주요 시사점

1. **원본 라벨링 품질 문제**: 초기 데이터 라벨링 단계에서 부정확한 설명이 작성됨
2. **COT 프로세스 무결성**: COT 확장 과정은 원본 데이터를 변형하지 않고 올바르게 처리
3. **품질 개선 방향**: 원본 라벨링 데이터 자체의 검수 및 수정이 필요

---

## 2. 분석 방법론

### 2.1 데이터 소스

```
원본 데이터:
- 위치: /home/devfit2/mbc_json/image/ 및 /home/devfit2/mbc_json/video/
- 형식: {clip_id}.json
- 구조:
  └─ labeling_data_info
     └─ caption_info
        ├─ object_level[]      # 객체 수준 설명
        ├─ semantic_level[]    # 의미 수준 설명
        └─ application_level[] # 응용 수준 설명

COT 확장 데이터:
- 위치: /home/maiordba/projects/vision/Wan2.2/preprocessed_data/all_train_cot.csv
- 필드:
  - caption_object: object_level 문장들을 결합
  - caption_semantic: semantic_level 문장들을 결합
  - caption_application: application_level 문장들을 결합
```

### 2.2 비교 프로세스

1. bad.pdf에서 평가자가 지적한 불량 케이스 추출
2. 각 clip_id에 대해 원본 JSON 파일 직접 로드
3. COT 확장 데이터와 원본 데이터 문장 단위 비교
4. 평가자 지적 사항이 어느 단계에서 발생했는지 추적

---

## 3. 상세 케이스 분석

### Case 1: Clip ID 2840321 (순번 031)

**미디어 타입**: 이미지
**카테고리**: 공간/건축
**평가자**: 평가자1_02
**평가일**: 2025-11-06

#### 평가자 지적 사항

| 검사 영역 | 불량 유형 | 지적 내용 |
|---------|---------|---------|
| **객체 섹션** | 객체 불일치 | "도로 위에는 공사를 알리는 노란색 안전 펜스가 설치되어 있고, **공사 차량들이 보인다.**"<br>→ 공사 차량들은 보이지 않음 |
| **의미 섹션** | 부자연스러운 인과관계 | "도시의 일상적인 풍경 속에서 진행되는 건설 현장은 **지역 발전과 변화의 역동적인 과정을 보여준다.**"<br>→ 해당 이미지를 보고 지역 발전과 변화의 역동적인 과정을 느끼기는 어려움 |

#### 원본 JSON 데이터 확인

```json
{
  "labeling_data_info": {
    "caption_info": {
      "object_level": [
        {
          "text": "지하 공사가 진행 중인 굴착 현장에는 철골 구조물과 흙더미가 어지럽게 널려 있다.",
          "token": 14
        },
        {
          "text": "도로 위에는 공사를 알리는 노란색 안전 펜스가 설치되어 있고, 공사 차량들이 보인다.",
          "token": 14
        }
      ],
      "semantic_level": [
        {
          "text": "도시의 일상적인 풍경 속에서 진행되는 건설 현장은 지역 발전과 변화의 역동적인 과정을 보여준다.",
          "token": 16
        },
        {
          "text": "굴착된 지하 공간과 대비되는 지상의 건물들은 현대 도시의 다층적인 구조와 생활 공간을 암시한다.",
          "token": 16
        }
      ]
    }
  }
}
```

#### COT 확장 데이터

```
caption_object: "지하 공사가 진행 중인 굴착 현장에는 철골 구조물과 흙더미가 어지럽게 널려 있다. 도로 위에는 공사를 알리는 노란색 안전 펜스가 설치되어 있고, 공사 차량들이 보인다."

caption_semantic: "도시의 일상적인 풍경 속에서 진행되는 건설 현장은 지역 발전과 변화의 역동적인 과정을 보여준다. 굴착된 지하 공간과 대비되는 지상의 건물들은 현대 도시의 다층적인 구조와 생활 공간을 암시한다."
```

#### 검증 결과

✅ **평가자가 지적한 문제가 원본 JSON의 `object_level[1]`과 `semantic_level[0]`에 이미 존재**
✅ **COT 확장 과정은 원본 텍스트를 그대로 결합하여 사용**
❌ **COT 확장으로 인한 새로운 오류 없음**

---

### Case 2: Clip ID 2745664 (순번 044)

**미디어 타입**: 이미지
**카테고리**: 공간/건축
**평가자**: 평가자1_03
**평가일**: 2025-11-06
**불량 개수**: 3개 (객체, 의미, 응용)

#### 평가자 지적 사항

| 검사 영역 | 불량 유형 | 지적 내용 |
|---------|---------|---------|
| **객체 섹션** | 객체 불일치 | "**글자들이 물 위에 떠 있다.**"<br>"**구조물이 수면 위에 놓여 있다.**"<br>→ 수면 위가 아님 (실제로는 뉴스 화면의 그래픽 자막) |
| **의미 섹션** | 의미 해석 오류 | "글자들이 **물 위에 자리 잡으며**"<br>"**잔잔한 수면 위에 떠 있는** 입체적인 글자들과"<br>→ 객체 불일치로 인한 연쇄 오류 |
| **응용 섹션** | 활용 방향 불일치 | "**건축 및 인테리어 디자인 관련 전시회의 홍보 자료로 활용** 가능하다."<br>→ 영상의 실제 상황과 어긋남 (뉴스 화면) |

#### 원본 JSON 데이터 확인

```json
{
  "labeling_data_info": {
    "caption_info": {
      "object_level": [
        {
          "text": "연보라색의 입체적인 글자들이 물 위에 떠 있다.",
          "token": 8
        },
        {
          "text": "밝은 노란색과 파란색 띠가 있는 구조물이 수면 위에 놓여 있다.",
          "token": 10
        }
      ],
      "semantic_level": [
        {
          "text": "연보라색의 대형 글자들이 물 위에 자리 잡으며, 현대적인 디자인의 노란색 구조물과 함께 시각적으로 흥미로운 장면을 연출하고 있다.",
          "token": 22
        },
        {
          "text": "잔잔한 수면 위에 떠 있는 입체적인 글자들과 색색의 구조물은 마치 예술 작품처럼, 안정감 속에서 창의적인 분위기를 자아낸다.",
          "token": 21
        }
      ],
      "application_level": [
        {
          "text": "현대적인 디자인 감각을 살려, 건축 및 인테리어 디자인 관련 전시회의 홍보 자료로 활용 가능하다.",
          "token": 16
        }
      ]
    }
  }
}
```

#### AI 자동 태그 정보

```json
{
  "ai_generated_info": {
    "auto_tags": {
      "ocr": ["배우도"],
      "objects": ["건물", "배", "사람", "하늘"]
    },
    "scene_description_auto": [
      {
        "description": "이미지에는 파란색과 보라색의 대형 문자와 노란색 직사각형 물체가 있는 장면이 포함되어 있으며, 화면 오른쪽 상단 모서리에 MBC 뉴스데스크 로고가 표시되어 있습니다."
      }
    ]
  }
}
```

#### 검증 결과

✅ **평가자가 지적한 모든 문제가 원본 JSON에 이미 존재**
✅ **AI 자동 태그는 "MBC 뉴스데스크 로고"를 올바르게 인식했으나, 수동 라벨링에서 "물 위에 떠 있다"로 잘못 기술**
⚠️ **원본 라벨링 시 뉴스 화면의 그래픽 요소를 실제 물리적 객체로 오인**
❌ **COT 확장으로 인한 새로운 오류 없음**

---

### Case 3: Clip ID 3772718 (순번 231)

**미디어 타입**: 이미지
**카테고리**: 공간/건축
**평가자**: 평가자4_01
**평가일**: 2025-11-06
**불량 개수**: 4개 (표현, 객체, 의미, 응용)

#### 평가자 지적 사항

| 검사 영역 | 불량 유형 | 지적 내용 |
|---------|---------|---------|
| **표현 섹션** | 문법·어법 오류 | "푸른색 기둥이 세워진 흰색 건물이 **햇빛 아래 서 있다.**"<br>→ 햇빛 아래 건물이 위치해 있음 (자연스럽지 않은 표현) |
| **객체 섹션** | 객체 불일치 | "**건물 외벽**에는 한국어로 된 검은색 입체 글자가 크게 새겨져 있다."<br>→ 건물 외벽이 아닌 건물 기둥에 글자가 있음 |
| **의미 섹션** | 의미 해석 오류 | "글자에는 **한국의 문화적 정체성**이 담겨 있다."<br>→ 건물의 기능이나 기관과 관련된 글자임 (실제: "현대해상화재보험") |
| **응용 섹션** | 활용 방향 불일치 | "**한국의 도시 풍경이나 시설 안내**를 위한 미디어 자료로서 가치를 지닌다."<br>→ 기관을 상징하는 건물일 뿐, 일반적인 도시 풍경이 아님 |

#### 원본 JSON 데이터 확인

```json
{
  "labeling_data_info": {
    "caption_info": {
      "object_level": [
        {
          "text": "푸른색 기둥이 세워진 흰색 건물이 햇빛 아래 서 있다.",
          "token": 9
        },
        {
          "text": "건물 외벽에는 한국어로 된 검은색 입체 글자가 크게 새겨져 있다.",
          "token": 11
        }
      ],
      "semantic_level": [
        {
          "text": "하늘색 기둥과 흰색 건물이 조화를 이루며, 글자에는 한국의 문화적 정체성이 담겨 있다.",
          "token": 15
        },
        {
          "text": "햇살이 내리쬐는 풍경은 활기찬 분위기를 자아내며, 건물 디자인은 현대적인 느낌을 준다.",
          "token": 15
        }
      ],
      "application_level": [
        {
          "text": "전반적인 경관은 한국의 도시 풍경이나 시설 안내를 위한 미디어 자료로서 가치를 지닌다.",
          "token": 15
        }
      ]
    }
  }
}
```

#### AI 자동 태그 정보

```json
{
  "ai_generated_info": {
    "auto_tags": {
      "ocr": ["5동", "현대해상화재보험", ...],
      "objects": ["건물", "나무"]
    },
    "scene_description_auto": [
      {
        "description": "현대해상화재보험의 로고가 있는 건물 외관입니다."
      }
    ]
  }
}
```

#### 검증 결과

✅ **평가자가 지적한 모든 문제가 원본 JSON에 이미 존재**
✅ **AI 자동 태그는 "현대해상화재보험"을 정확히 인식**
⚠️ **원본 라벨링 시 특정 기업 건물을 "한국의 문화적 정체성" 등으로 과도하게 일반화**
❌ **COT 확장으로 인한 새로운 오류 없음**

---

### Case 4: Clip ID 3427063 (순번 110)

**미디어 타입**: 이미지
**카테고리**: 공간/건축
**평가자**: 평가자2_02
**평가일**: 2025-11-06
**불량 개수**: 1개 (객체)

#### 평가자 지적 사항

| 검사 영역 | 불량 유형 | 지적 내용 |
|---------|---------|---------|
| **객체 섹션 #1** | 객체 불일치 | "**사람들이 걸어가고 있다.**"<br>→ 사람들이 아닌 사람 1명, 걸어가고 있지 않음 |
| **객체 섹션 #2** | 객체 불일치 | "다리 난간을 따라 **붉은색과 주황색의 장식이 규칙적으로 배치**되어 있다."<br>→ 다리 난간의 붉은색, 주황색의 규칙적 장식이 보이지 않는다 |

#### 원본 JSON 데이터 확인

```json
{
  "labeling_data_info": {
    "caption_info": {
      "object_level": [
        {
          "text": "푸른 물 위로 길게 뻗은 다리가 놓여 있으며, 다리 위에는 사람들이 걸어가고 있다.",
          "token": 15
        },
        {
          "text": "다리 난간을 따라 붉은색과 주황색의 장식이 규칙적으로 배치되어 있다.",
          "token": 11
        }
      ]
    }
  }
}
```

#### COT 확장 데이터

```
caption_object: "푸른 물 위로 길게 뻗은 다리가 놓여 있으며, 다리 위에는 사람들이 걸어가고 있다. 다리 난간을 따라 붉은색과 주황색의 장식이 규칙적으로 배치되어 있다."
```

#### 검증 결과

✅ **평가자가 지적한 두 가지 문제 모두 원본 JSON의 `object_level`에 이미 존재**
✅ **COT 확장은 원본 문장을 그대로 결합**
❌ **COT 확장으로 인한 새로운 오류 없음**

---

## 4. 종합 분석

### 4.1 문제 유형별 분류

#### 4.1.1 객체 불일치 (Object Mismatch)

**정의**: 이미지/비디오에 실제로 존재하지 않는 객체를 설명하거나, 객체의 속성(색상, 수량, 위치 등)을 잘못 기술

**발생 케이스**:
- Case 1: "공사 차량들이 보인다" → 실제로는 보이지 않음
- Case 2: "물 위에 떠 있다" → 실제로는 뉴스 화면의 그래픽
- Case 3: "건물 외벽에 글자" → 실제로는 기둥에 글자
- Case 4: "사람들이 걸어가고 있다" → 실제로는 1명만 존재

**원인 분석**:
- 라벨링 작업자의 시각적 오인
- 미디어 콘텐츠 특성(뉴스 화면, 그래픽 효과 등)에 대한 이해 부족
- 세밀한 검수 프로세스 부재

#### 4.1.2 의미 해석 오류 (Semantic Interpretation Error)

**정의**: 이미지/비디오에서 도출할 수 없는 의미나 맥락을 과도하게 해석

**발생 케이스**:
- Case 1: "지역 발전과 변화의 역동적인 과정" → 단순 공사 현장 사진
- Case 2: "예술 작품처럼, 창의적인 분위기" → 뉴스 화면 그래픽
- Case 3: "한국의 문화적 정체성" → 특정 기업 건물 간판

**원인 분석**:
- 객체 불일치로 인한 연쇄 오류
- 과도한 추상화 및 일반화
- 라벨링 가이드라인의 모호성

#### 4.1.3 활용 방향 불일치 (Application Mismatch)

**정의**: 실제 미디어 콘텐츠의 성격과 맞지 않는 활용 방안 제시

**발생 케이스**:
- Case 2: "건축 및 인테리어 디자인 관련 전시회" → 뉴스 영상
- Case 3: "도시 풍경이나 시설 안내" → 특정 기업 건물

**원인 분석**:
- 객체 및 의미 해석 오류의 연쇄 효과
- 미디어 원본 맥락(뉴스, 다큐 등) 무시

### 4.2 COT 확장 프로세스 검증

#### 4.2.1 COT 확장의 동작 방식

```python
# 원본 JSON 구조
{
  "object_level": ["문장1", "문장2", ...],
  "semantic_level": ["문장3", "문장4", ...],
  "application_level": ["문장5"]
}

# COT 확장 결과
{
  "caption_object": "문장1 문장2 ...",      # object_level 결합
  "caption_semantic": "문장3 문장4 ...",    # semantic_level 결합
  "caption_application": "문장5",           # application_level 결합
  "caption_full": "문장1 문장2 ... 문장3 문장4 ... 문장5"  # 전체 결합
}
```

#### 4.2.2 검증 결과

✅ **원본 텍스트 보존**: 모든 케이스에서 원본 문장이 그대로 유지됨
✅ **단순 결합 처리**: 공백으로 문장을 결합하는 단순 프로세스
✅ **오류 전파 없음**: 새로운 오류를 생성하지 않음
✅ **구조 통일**: 3단계 계층 구조를 일관된 필드로 변환

### 4.3 AI 자동 태그 vs 수동 라벨링 비교

| Clip ID | AI 자동 인식 | 수동 라벨링 | 정확도 비교 |
|---------|------------|-----------|-----------|
| 2745664 | "MBC 뉴스데스크 로고", "대형 문자" | "물 위에 떠 있는 글자" | **AI 더 정확** |
| 3772718 | "현대해상화재보험의 로고" | "한국의 문화적 정체성" | **AI 더 정확** |

**시사점**: AI 자동 태그(OCR, 객체 인식)가 수동 라벨링보다 객관적이고 정확한 경우가 다수 존재

---

## 5. 결론 및 권고사항

### 5.1 핵심 결론

1. **COT 확장 프로세스는 정상 작동**: 원본 데이터의 무결성을 완벽히 유지
2. **원본 라벨링 품질 문제 확인**: 평가자가 지적한 불량 사항은 원본 데이터에 이미 존재
3. **품질 개선의 우선순위**: 원본 라벨링 데이터 검수 및 수정이 최우선 과제

### 5.2 권고사항

#### 5.2.1 단기 조치 (Immediate Actions)

1. **원본 JSON 재검수 프로세스 수립**
   - bad.pdf에 기록된 모든 케이스의 원본 JSON 수정
   - 수정 후 COT 재생성

2. **AI 자동 태그 활용 강화**
   - OCR, 객체 인식 결과를 라벨링 시 참조 자료로 활용
   - AI 태그와 수동 라벨링 불일치 시 경고 시스템 구축

3. **라벨링 가이드라인 개정**
   - 객체 설명: 실제 존재하는 것만 기술
   - 의미 해석: 과도한 추상화 금지, 이미지에서 직접 확인 가능한 것만 기술
   - 활용 방향: 미디어 원본 맥락(뉴스, 다큐 등) 고려

#### 5.2.2 중기 조치 (Mid-term Actions)

1. **품질 검증 파이프라인 구축**
   ```
   원본 미디어 → AI 자동 태그 → 수동 라벨링 → 크로스 체크 → 최종 검수
                                              ↓
                                         불일치 플래그
   ```

2. **라벨링 작업자 재교육**
   - 불량 케이스 스터디
   - 뉴스/다큐 등 미디어 특성 이해 교육

3. **통계 기반 이상치 탐지**
   - 토큰 수 분포 분석
   - 특정 표현("물 위에", "문화적 정체성" 등) 빈도 분석
   - AI 태그와 수동 라벨링 간 유사도 측정

#### 5.2.3 장기 조치 (Long-term Actions)

1. **멀티모달 AI 기반 라벨링 자동화**
   - Vision-Language 모델(CLIP, BLIP-2 등) 활용
   - 자동 생성 캡션과 수동 라벨링 비교

2. **품질 메트릭 정의 및 모니터링**
   - 객체 일치도 (Object Accuracy)
   - 의미 적절성 (Semantic Relevance)
   - 맥락 일치도 (Context Alignment)

---

## 6. 부록: 검증 스크립트

### 6.1 원본 JSON vs COT 비교 스크립트

```bash
# API를 통한 데이터 가져오기
curl -s "http://localhost:7010/api/statistics/sample/{clip_id}" | python3 -m json.tool

# 응답 구조:
# {
#   "clip_id": "2840321",
#   "cot_data": { ... },        # COT 확장 데이터
#   "original_data": { ... }    # 원본 JSON 데이터
# }
```

### 6.2 대시보드를 통한 시각적 비교

1. 웹 대시보드 접속: http://211.180.253.250:3000
2. 이슈 클릭 → 모달 팝업
3. 탭 전환:
   - **COT 확장 데이터**: 전처리된 통합 버전
   - **원본 데이터**: `/home/devfit2/mbc_json/`의 원본 JSON

---

## 7. 참고 자료

- **bad.pdf**: 평가자 지적 사항 원본 문서
- **원본 데이터**: `/home/devfit2/mbc_json/image/`, `/home/devfit2/mbc_json/video/`
- **COT 데이터**: `/home/maiordba/projects/vision/Wan2.2/preprocessed_data/all_train_cot.csv`
- **API 엔드포인트**: `http://localhost:7010/api/statistics/sample/{clip_id}`
- **웹 대시보드**: `http://211.180.253.250:3000`

---

**보고서 작성자**: Claude Code (Anthropic)
**검증 날짜**: 2025-11-11
**문서 버전**: 1.0
