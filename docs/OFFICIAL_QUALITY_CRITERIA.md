# 🏛️ 공식 품질지표 기준서 (RAPA 2025)

## 📋 기본 정보

**사업명**: 한국전파진흥협회(RAPA) 「2025년 방송영상 AI 학습용 데이터 구축」

**데이터명**: 방송영상 AI 학습용 비디오 캡셔닝 데이터셋

**데이터 유형**: 멀티모달 데이터

**모델 임무**: Text-to-Video Generation

**주관기관**: MBC충북
**수행기업**: 도스트11
**품질검증 담당자**: 염규현

---

## 📊 품질 특성별 기준

### 1. 형식성 (Formality)

| 항목명 | 측정 지표 | 정량 목표 | 근거 |
|--------|----------|----------|------|
| 파일 유효성 | 정확도 | **99% 이상** | NIA AI 데이터 품질관리 가이드라인 v3.5 |
| 파일 포맷 적합성 | 정확도 | **99% 이상** | NIA AI 데이터 품질관리 가이드라인 v3.5 |
| 파일 속성 적합성 | 정확도 | **99% 이상** | NIA AI 데이터 품질관리 가이드라인 v3.5 |

**평가 내용:**
- 파일 유효성: 파일이 손상되지 않고 정상적으로 열리는지
- 파일 포맷 적합성: mp4, json 등 지정된 포맷을 준수하는지
- 파일 속성 적합성: 해상도, 프레임레이트, 길이 등 메타데이터가 정확한지

---

### 2. 다양성(통계) (Diversity - Statistical)

| 항목명 | 측정 지표 | 정량 목표 | 근거 |
|--------|----------|----------|------|
| 장르별 분포 | 구성비 | **분포 확인** | 사업수행계획서 p.43 |
| 비디오 영상 길이 분포 | 구성비 | **평균 20초, 25초 이상 2% 미만** | 사업수행계획서 p.113 |
| 카테고리별 분포 | 구성비 | **분포 확인** | 사업수행계획서 p.43 |

**평가 내용:**
- 장르별 분포: 예능, 드라마, 뉴스, 다큐 등 장르 간 균형
- 비디오 길이 분포: 15~25초 권장, 평균 20초, 25초 이상은 전체의 2% 미만
- 카테고리별 분포: 8개 중분류 (자연/풍경, 공간/건축, 생활/문화, 역사/사회, 축제, 유형문화유산, 무형유산, 사건/사고)

---

### 3. 다양성(요건) (Diversity - Requirements)

| 항목명 | 측정 지표 | 정량 목표 | 근거 |
|--------|----------|----------|------|
| 비디오 데이터 시간 | 최소 시간 | **3,600시간 이상** | 사업수행계획서 p.21, 24 |
| 비디오 영상 평균 길이 | 최소 시간 | **20초 이상** | 사업공모안내서 p.5 |
| 가공데이터 설명문 최소 토큰 수 | 최소 수량 | **50토큰 이상** | 사업공모안내서 p.6 |
| 가공데이터 설명문 최소 문장 수 | 최소 수량 | **5문장 이상** | 사업수행계획서 p.43 |

**평가 내용:**
- 전체 데이터셋 규모: 3,600시간 이상의 비디오 데이터
- 비디오 클립 길이: 평균 20초 이상 유지
- 캡션 토큰 수: 각 비디오 설명이 최소 50토큰 이상
- 캡션 문장 수: 최소 5문장 이상으로 구성

---

### 4. 구문 정확성 (Syntactic Accuracy)

| 항목명 | 측정 지표 | 정량 목표 | 근거 |
|--------|----------|----------|------|
| 구조 정확성 | 정확도 | **99.5% 이상** | TTA 권고 |
| 형식 정확성 | 정확도 | **99.5% 이상** | TTA 권고 |

**평가 내용:**
- 구조 정확성: JSON 스키마 준수, 필수 필드 존재, 데이터 타입 정확성
- 형식 정확성: 타임코드 형식, 날짜 형식, ID 형식 등 규격 준수

---

### 5. 의미 정확성 (Semantic Accuracy)

| 항목명 | 측정 지표 | 정량 목표 | 근거 |
|--------|----------|----------|------|
| 표현 적절성 | 정확도 | **90% 이상** | 사업수행계획서 p.186 |
| 영상-설명문 일치성 | 정확도 | **90% 이상** | 사업수행계획서 p.186 |

**평가 내용:**
- 표현 적절성: 캡션이 영상 내용을 적절하게 표현하는지
- 영상-설명문 일치성: 캡션과 실제 영상 내용이 일치하는지

---

### 6. 유효성 (Validity) ⭐ 핵심 메트릭

| 항목명 | 측정 지표 | 정량 목표 | 근거 |
|--------|----------|----------|------|
| 영상 생성 적정성 | **FVD** | **1140 이하** | 사업수행계획서 p.34 |
| 텍스트-영상 정렬 | **CLIP Score** | **0.3 이상** | 사업수행계획서 p.34 |

**평가 내용:**
- **FVD (Fréchet Video Distance)**: 생성/데이터셋 비디오의 품질이 실사 수준인지
  - 낮을수록 우수 (≤1140 목표)
  - I3D 특징 추출 후 Fréchet Distance 계산

- **CLIP Score**: 텍스트 캡션과 비디오 프레임 간 의미적 일치도
  - 높을수록 우수 (≥0.3 목표)
  - OpenAI CLIP 모델로 코사인 유사도 계산

---

## ✅ 품질 검증 체크리스트

### 형식성 검증
- [ ] 파일 유효성 99% 이상 (손상 파일 1% 미만)
- [ ] 파일 포맷 적합성 99% 이상 (mp4, json 형식 준수)
- [ ] 파일 속성 적합성 99% 이상 (메타데이터 정확성)

### 다양성(통계) 검증
- [ ] 장르별 분포 균형 확인 (예능, 드라마, 뉴스, 다큐 등)
- [ ] 비디오 평균 길이 20초 달성
- [ ] 25초 이상 비디오 2% 미만
- [ ] 카테고리별 분포 균형 확인 (8개 중분류)

### 다양성(요건) 검증
- [ ] 전체 비디오 데이터 3,600시간 이상
- [ ] 비디오 클립 평균 길이 20초 이상
- [ ] 캡션 최소 토큰 수 50토큰 이상
- [ ] 캡션 최소 문장 수 5문장 이상

### 구문 정확성 검증
- [ ] JSON 구조 정확성 99.5% 이상
- [ ] 형식 정확성 99.5% 이상 (타임코드, 날짜 등)

### 의미 정확성 검증
- [ ] 표현 적절성 90% 이상
- [ ] 영상-설명문 일치성 90% 이상

### 유효성 검증 ⭐
- [ ] **FVD ≤ 1140**
- [ ] **CLIP Score ≥ 0.3**

---

## 📐 측정 방법

### 1. 형식성 측정
```bash
# 파일 유효성 검사
python scripts/validate_files.py \
  --data_path ./preprocessed_data \
  --check validity,format,attributes \
  --output formality_report.json
```

### 2. 다양성 측정
```bash
# 통계 분석
python scripts/analyze_diversity.py \
  --data_csv ./preprocessed_data/all_train.csv \
  --metrics genre,length,category \
  --output diversity_stats.json
```

### 3. 구문 정확성 측정
```bash
# JSON 스키마 검증
python scripts/validate_syntax.py \
  --data_path ./preprocessed_data \
  --schema ./schema/labeling_schema.json \
  --output syntax_report.json
```

### 4. 의미 정확성 측정
```bash
# 샘플링 기반 수동 검증
python scripts/sample_for_review.py \
  --data_csv ./preprocessed_data/all_train.csv \
  --sample_size 1000 \
  --stratified \
  --output samples_for_review.csv

# 검토 후 정확도 계산
python scripts/calculate_semantic_accuracy.py \
  --reviewed samples_reviewed.csv \
  --output semantic_accuracy.json
```

### 5. 유효성 측정 (CLIP & FVD)
```bash
# CLIP Score 계산
python scripts/calculate_clip_score.py \
  --data_csv ./preprocessed_data/all_train.csv \
  --sample_size 5000 \
  --model ViT-B/32 \
  --output clip_scores.json

# FVD 계산
python scripts/calculate_fvd.py \
  --dataset_videos ./preprocessed_data/videos \
  --reference_videos ./reference_dataset \
  --sample_size 5000 \
  --output fvd_score.json
```

---

## 📈 품질 등급 기준

### 종합 평가 등급

| 등급 | 조건 | 판정 |
|------|------|------|
| **A+** | 모든 항목 목표 달성 + CLIP ≥0.35 + FVD ≤1000 | 우수 |
| **A** | 모든 항목 목표 달성 | 양호 |
| **B** | 1-2개 항목 목표 미달성 (경미) | 보완 필요 |
| **C** | 3개 이상 항목 목표 미달성 | 상당한 개선 필요 |
| **F** | CLIP <0.3 또는 FVD >1140 | 재작업 필요 |

---

## 🎯 현재 데이터셋 상태

### 달성 현황 (2025년 11월 기준)

| 품질 특성 | 상태 | 비고 |
|----------|------|------|
| 형식성 | ⚠️ 측정 필요 | 파일 유효성 검증 스크립트 실행 필요 |
| 다양성(통계) | ✅ 분포 확인 중 | 카테고리별 통계 집계 중 |
| 다양성(요건) | ⚠️ 일부 달성 | 3,600시간: 미확인, 평균 길이: 측정 필요 |
| 구문 정확성 | ⚠️ 측정 필요 | JSON 스키마 검증 필요 |
| 의미 정확성 | ⚠️ 측정 필요 | 샘플링 기반 수동 검증 필요 |
| 유효성 | ❌ **미측정** | **CLIP Score, FVD 계산 시급** |

### 우선순위 작업

**High Priority:**
1. ⭐ **CLIP Score 측정** (목표: ≥0.3)
2. ⭐ **FVD 측정** (목표: ≤1140)
3. 캡션 토큰/문장 수 검증 (50토큰, 5문장 이상)

**Medium Priority:**
4. 파일 유효성 전수 검사
5. JSON 구문 정확성 검증
6. 비디오 길이 분포 분석

**Low Priority:**
7. 의미 정확성 샘플 검증 (1,000개)
8. 장르/카테고리 분포 리포트

---

## 📚 참고 문헌

1. **NIA AI 데이터 품질관리 가이드라인 v3.5**
   - 한국지능정보사회진흥원 (NIA)
   - 형식성 기준 근거

2. **TTA 표준 권고안**
   - 한국정보통신기술협회 (TTA)
   - 구문 정확성 기준 근거

3. **RAPA 사업수행계획서**
   - 한국전파진흥협회
   - 다양성, 의미 정확성, 유효성 기준 근거

4. **CLIP: Learning Transferable Visual Models From Natural Language Supervision**
   - Radford et al., OpenAI, 2021
   - CLIP Score 메트릭 원본 논문

5. **Towards Accurate Generative Models of Video: A New Metric & Challenges**
   - Unterthiner et al., DeepMind, 2018
   - FVD 메트릭 원본 논문

---

## 🔗 대시보드 링크

**품질 평가 방법론 페이지**: http://211.180.253.250:7020/quality/methodology

**메인 대시보드**: http://211.180.253.250:7020

---

**마지막 업데이트**: 2025년 11월 7일
**문서 버전**: v0.6
